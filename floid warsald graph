#include<bits/stdc++.h>
using namespace std;
int main(){
    int INF=1e9;
    int v,e;
    cin>>v>>e;
    vector<vector<int>>graph(v,vector<int>(v,INF));
    
    for(int i=0;i<v;i++){
        graph[i][i]=0;
    }
    for(int i=0;i<e;i++){
       int u,v,w;
       cin>>u>>v>>w;
       
       graph[u][v]=w;
       graph[v][u]=w;
       
    }
    
    for(int i=0;i<v;i++){
        for(int j=0;j<v;j++){
            if(graph[i][j]==INF){
                cout<<"INF ";
            }
            else{
                cout<<graph[i][j]<<" ";
            }
        }
        cout<<endl;
    }
    cout<<endl;
    for(int k=0;k<v;k++){
        for(int i=0;i<v;i++){
            for(int j=0;j<v;j++){
                if(graph[i][k]<INF && graph[k][j]<INF){
                    graph[i][j]=min(graph[i][j],graph[i][k]+graph[k][j]);
                }
        }
    }
    }
    for(int i=0;i,v;i++){
        for(int j=0;j<v;j++){
            cout<<graph[i][j]<<" ";
        }
        cout<<endl;
    }
    return 0;
    
    
}


input:

4
3
0 1 2
1 2 3
2 3 4

output:

0 2 INF INF 
2 0 3 INF 
INF 3 0 4 
INF INF 4 0 

0 2 5 9 
2 0 3 7 
5 3 0 4 
9 7 4 0 
